var blueImg = require("heatshrink").decompress(atob("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"))
var redImg = require("heatshrink").decompress(atob("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"));
var greenImg =  {
  width : 142, height : 145, bpp : 1,
  transparent : 1,
  palette : new Uint16Array([2016,65535]),
  buffer : require("heatshrink").decompress(atob("/4AF/kAv4JGAA4aBn4QN+ARQHwQRNEQRHOwARPNAJ0JAAvgCAUBK58AgYQL/ARDg4RL4ARDgkAh40NEpg0EAAQjJGggRMCA0Aj6/Gg40HbA3+Q4KeDAAjGFBwMDaYYAEIZrGIIZCOIPA58JCBRqFGhZqFGhZqFCBcDCAf8CJZYEVpDVIVpBYHaYJYP+ARMEYZ7MEYgQMCIZ7MfIhGNfIZGNUAaNMfIaNNLAf4LCDUMLAhGQRppGDGhsDGiCNCPZ0fPZ4RDYRpqDCBsAv40PPgQQOYYIiGh6OJRgyCC+DVFYI0DFQMDCIsfAwoZBZIMPBQs/Gg0PSgM/bwrBHnx1CDgkBGg0AvBGBDgsHYI0BIwSGFj7OKIwosBAAccXghjFC4kHF4cDTAsDC4iTERo0OfwpeDTA04dgoMDZoxGERAkDNIpGFgJYDh7MGRpMwAwt8CJJXFahAAIg5NFABUfFQoAK/4QPQ4gAMZIwAFXok/ZwcAhAvFDol+BYl4MgodECwl/AokDdgkBCwYKBDgl/MgkGUgn/UocB/4pEKQgRBfAYpBZBQjEg46ECI7JPh63RIwbJZVZQRMLBMQAws+Aws/DAVgBQrnGSoUDFo1ASgrdChxMLCAKnCvhdLCIQnBQwcPCAr4BAAK5Bv7fDv6LFh4RC/4nBBgQbBCIoQDG4YbDCIhoCAAbxDv4RFK4YAC/gJBgZyDGhJqCDYQQDDAQRHHQppFAAR8BBIX4cYgRG4CWDUoZGHEYJoBFAZ7IAAxqDPYylJSgQAKSYTlEABJYDIxpYDPY5YJCBixDYQ4AFWIbCHI35G/I0oQCgF/Gh8BERnALBxoDAAMHEJxqMIgY1NVwYRMEQw2KEQyQJ/gQICI6/DAAyLLAAi0GK5CiI+ARJfY3we4oACj7VOERB+KYhPwgcAhDWN4EcgF4fRuA/EDOAP8RgxYEg/gj/gGRRYCj/Av4TBCJaQBEAITBCJfn/xTB4IQLGwQgMAAf5DRAA="))
}
var whiteImg = require("heatshrink").decompress(atob("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"));
var blackImg =  {
  width : 152, height : 144, bpp : 1,
  transparent : 1,
  palette : new Uint16Array([0,65535]),
  buffer : require("heatshrink").decompress(atob("/4AGwAKBg4LHAAoeEh4RL8AyNEhAABj4RJ/ASGgYSJ4BsPG5AABn4RH/gSIJhHwCRCaIQQxfLXIQAGgJwQORISvJY/4OJISH8CERwASJVQ3+gC9JjwmF/EAuASImByFEYN4JRB7Bv7hFCREHAQM/cIs8VRMAj4SDAwISLh5wEM4ISKOQYSCj4SKX4f8FgROBfBiWBNAL3JAAKFCXQUDXxISEcAZPCABCYCCQZyLTARHLTAwSPg7PDCSAROXwYSPXwJ/LCS7RBCSN/eoQShn/4CUcfCSXwCUcPCSXgCSEHCWZHDgfAC4bfMCQn//wRGgf//4SFg4IBDAY3DBIYSDn4IBTowJCJgMBwA3CAAJCCAAYJCDgISCgIICIQQACBIf4CQZTCAAIsCKggvCCQQIDL4pdCCQoIDKoQACj4ICR4ISCBAYSFOASiFCQiFEv5oHDYYSFBAYSJPYISUUAiOECSRUECQazECRLkDCVbaDCRDsECSo6BCRwQBCQyEDCRKqICQoHBHQMPew4SE/zEBCQLHEM4YSEFwISCEwigDCQngCQgTCJQarEPIUBCoIAPgYSSNQYADgUAsASHIooABgwSIg7JDCRyaBCR5/BCRFwBI0fW4gSMeYJyGhwSKL4wSJaoQSHvAIFgLoECQqhGfgY5FCRBwBAARzECRF/CQYmEjwSGVAIAEJoYSGGwgADwASHNwYSOGwwSGgISDXIISQCJASDnwSDJRISEgYSCgYSMn4SDZgYSKw4SR/4SQbQISVLxt4OKIABnASRAAQS/CRb2NCX4S/CTkACRsMCR9ACQUCCRtgCQUGCX4SGuASChwSN+ASVjwSPEYM+CRv4CQV+CSP+CSEHCR38gEP/4SggIOBCSUfCRvAgP/gE/CRvgCQOAAwUAAwIAI/EDAwgSL/4SFwAGFAAvnKQsHAwgA=="))
}
var backgrounds = [blackImg, blueImg, redImg, greenImg, whiteImg]
var manaColors = ["#000000","#0000ff","#ff0000","#00ff00","#ffff00"]
var bgIndex = 0;
g.width = g.getWidth();
g.height = g.getHeight();

//console.log(backgrounds.length);

//var Layout = require("Layout");
//var layout = new Layout();

Graphics.prototype.setFontTreasurehuntDOYwE_20 = function(scale) {
  // Actual height 20 (19 - 0)
  this.setFontCustom(atob("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C////4AP////gA/7/q+ADwB8A8APQLwDwAvS/APAC//8A4AP//0DAAv/f0sAAvg//gAAED/8AAAAL/gAAAAL4AAAAAEAAAAAAAAAAC//8AAAv//8AAL///8AA//7/wAH4AF/AAtAAB9ADwAAD4APAAALgA8AAAtADwAAC0APQAAPAAvAAA0AA8AALAADgAA0AAEAAAAAAAAAAAAHgAFbwAv///+AD////4AP////wA/v+q/AD8EAH8APwAAfgA+AAB+AD8AAD4APwAAPgA/gAA8AC/QAHgAP/kB9AAv/+/wAA///9AAB///QAAAf/0AAAAEQAAAAAAAAAAAH/4AAAD//8AAAv//8AAH///4AA/r//wAH0fB/AAsB4B+ADwHQD8APAcALwA8BwAeADwDACwAPAcAPAA+BwA8AD8LQHQALwtA8AAOBgCQAAQAAAAAHVURWQAv///+AC////4AP////gA//+q+AD4BwC8APQDADgA8AMANADwAwAAAPQHQAAA/AcAAAD8AQAAAPwAAAAA8AAAAABgAAAAAAAAAAAAAf//QAAD///QAAv///AAH/qv+AAvAAL8ADwAAPwANAAAvAB0BQA8ALQPADwAtA8APAC0DwA4ALwOAHgAPw9A8AA/D//gAC0P/8AABAr5AAAAAAAAAH/r5rgAf///9AB////0AL+///gAYAOQeAAAA0AUAAADQAAAAANAAAAAA4AAAKADwAQA+7/rvAD////4AL////gAv+v6+ACgAAAsAAAAAAQAAAAAAAB1BUAoAH//+/gAf///+AC////4APqv+vgAQAAAKAAAAAAEAAAAAAAKQAAAAP/AAAAb3//v+v+P/////w/////9D/+v/5AFAAEAAAAAAAAAAPVaVSgA////+AC////4AP////QA////+ACUf9V4AAD/4DgAAv/0EAAH9/wAAB/i/0AAP4D/wAD+AL/gAPgAL/AA8AAL+ACAAAH8AAAAAL4AAAAAPwAAAAAfAAAAAAsAAAAAAwAAAAADAAAAAAIAAAAAAADgFBQYAP7///wA////+AD////4APuvv/wAUAQAfAAAAAA4AAAAADgAAAAAOAAAAAA9AAAAAD8AAAAAeQAAAACwAAAAAFAAL///0AA/+lbwAP/AALQA/wAAIAD9AAAAAPwAAAAA/AAAAAD9AAAAAH9AAAAAD+AAAAAH/UBQAAH///gAB////AAf///4AD//6vQAv+oAEAD/QAAAAP8AAAAAvQAAAAC0AAAAAPgAABAAfgAAsAA/QALwAB/Qb/AAB///8AAB///gAAB//8AAABqUAAAAAAAAD+pZuq/v/////k/////kD/+AAAAO/8AAAAS/8AAAAD/wAAAAH/wAAAAP/AAAAAv9AAAABv4AAAQA/0AADAD/wAANAH/AAA0AL9AADkVf9AAP///9AA////8AD5ABWQAEAAAAAAAAAAAAAAH//8AAA///4AAP+r/wAB9AH/AALgAH8AB4AAH0ALAAALgA8AAAfADwAAA8APQAADgA/QAAMAC/QAGwAL/lC9AAf//vwAA///9AAB//+QAAB//wAAAAWQAAAAAAAAAIAAAAAH1WpVVB7//////P/////4/+///+DVRfVUAMAA8AAAwADwAADQAPAAAPAA4AAA/gHAAAD/74AAAP//AAAAf/8AAAAb+AAAAAFQAAAAAAAAAAAAD//8AAA///4AAL///wAA9QL/AALgAH9AB8AAH0ALQAALgAsAAAfADwAEA8APAA8DgA/AD4NAC/AL2wAH/UP9AAf//v0AA////wAB////AAB//x8AAAagA0AAAAADQAAAAAJAAAAAAACwAAAPAPVWqr4Av////AC////0AH///8AAf/7/AAB9QAQAAHAAAAAAcABgAAB8APAAAH4B/QAAf5v/QAA////AAD//f+gAD/0v/wAHpAv/wAAAAL/0AAAAL/gAAAAH/AAAAAH8AAAAALwAAAAAPAAAAAAcAAAAAA0AAAAABQAAAAAAAP/AHwAC/+AvQAP/8C9AC2/0D0APA/gPgA8C/AvADwL8B8APA/wHgA8D/QtADwP/rwAPgv//AAvA//wAB0D/+AAAAH/QAAAABUAAAAAAAAALgAAAAA8AAAAADwAAAAAPAAAAAA8AAAAADwAAAAAPQAARQA//7//AD////8AP////gA////+AD1WQD8APAAAHwA8AAAOADwAAAQAPAAAAAA+AAAAAD8AAAAAPwAAAAA9AAAAADgAAAAAEAAAAAA4L/5AAD2//8AAP///+AA////8AD/mv/wAPkAH/AAsAAH8AAAAAL4AAAAAPwAAAAA/AAAAAD8AAAAALQAAAAAtADAAADwAOQAJPAA////8AD////4AP////0A//v//w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"), 32, atob("BgYHDQsQEwQKCAgLBgkGDA4GCwoPCwwMCwwGBgwJCwoNGREQExEQEREICBcOHRUTERUaEBYXFh0TERIKCwcKCgYSDg0PDQ0NDgcGEg0XERAPEhINExERFw4ODwYFBgoK"), 20+(scale<<8)+(2<<16));
  return this;
}

Graphics.prototype.setFontTreasurehuntDOYwE_40_N = function(scale) {
  // Actual height 40 (39 - 0)
  this.setFontCustom(atob("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAA8AAAAABwAAAAAHAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAB4AAAAAfwAAAAB/AAAAA/4AAAAH+AAAAB/gAAAAf4AAAAH+AAAAB/gAAAA/4AAAAP+AAAAB/wAAAA/8AAAAf/AAAAD/gAAAAf4AAAAA+AAAAADwAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAB/AAAAAP/wAAAB//wAAAf//wAAD///AAAf8H+AAB+AH8AAPgAHwAB4AAPgAHAAAeAA4AAB4ADgAAHgAOAAAOAA4AAB4ADgAAHgAPAAAeAA+AADwAD8AAeAAH4AD4AAf4APgAA/8H8AAD///gAAD//8AAAH//gAAAH/4AAAAAYAAAAAAAAAAAAAAAAAAAAAAAAYAABAADgAAeAAf///4AD////gAP///+AA////4ABwAADgAAAAAGAAAAAAAAAAAAAAABwAAGAAPgAA4AB8AAHgAHwAA8AA8AAHwADgAA/AAMAAP8AB4AB/4AHgAf3gAPAH8eAA8B/B4AD4P4HgAP/+AeAA//wB4AB/8AHgAD/AAPAAPgAB8AAAAAPwAAAAB+AAAAAHgAAAAAAAAAAAAAAAAAAAAABgAAPwAOAMA/AB4DwAcAHAeAA4AOD4ADgA4/AAMADn8AAwAP/wADAA/3AAcAD8cADwAPh4AeAB4HgH4AHAfB/gAAA//8AAAB//gAAAD/8AAAAH/AAAAAEAAAAAAAAAAAAAAAAAAA4AAAAADgAAAAAeAAAAAD4AAAAAPgAAAAB+AAAAAP4AAAAB/gAAAAHOAAAAA44AAAAHjgAAAA8OAGAAPg4AYAD8Dh/gAP///+AB////wAH////gAP///+AA4BwA4AAAHAAgAAAMAAAAAB4AAAAAHgAAAAAeAAAAAB4AAAAAPAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAcAPAAADwAMAAA+AAwAAP4ADAAD/AAOAA/8AA4AD/wADAAP3AAMAA8cABwADhwAfAAOHgD4AA4fAfgADh//8AAfD//gAB8P/8AAHwf/gAAeB/4AABwD/AAAAAAAAAAAAAAAAAAAf/AAAAH//AAAA//+AAAP//4AAB/5/gAAP8A/AAB/wB8AAf3ADwAD8cAPAAfDwA4AB4PADgAPA8AeAB4DwDwAPAHgPAB4Afj4APAB//AB4AD/8APgAH/AA8AAP4ADgAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAPAAAAAB4AADgAPAAA+AB8AAP4AHwAD/gAfAAf4AB8AH+AADwA/gAAPAP4AAA8D+AAADw/wAAAPP8AAAA9/AAAAD/4AAAAP+AAAAA/gAAAAD4AAAAAfAAAAAAwAAAAACAAAAAAAAAAAAAAAAAAAAAAH8AAAAA/4AAAAP/wAADh//AAA/Pw+AAH+8B4AA//AHgAH/8AeAAcHgA4ADgeADgAOB4AOAB4HwB4AHg/gPgAfn/x8AB/9//gAD/3/8AAP+P/gAAPwf4AAAAAfgAAAAAAAAAAAAAAAAAAAAAAAAAAACAAfgAAcAH/gADwA//AAeAD/8ADwAf/4AeADwHgDwAeAeAfABwA4D4APADgfAA4AOD4ADgA4/AAPADn4AA+AN/AAD4A/4AAP8f+AAA///wAAB//8AAAH//gAAAH/4AAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAHAeAAAA+D4AAAB4PwAAAHg/AAAAcB4AAAAAAAAAAAAAA"), 46, atob("CxgcCxcUHhUXFxYXCw=="), 40+(scale<<8)+(1<<16));
  return this;
}


function draw() {
  g.clear();
  drawBackground();
  drawDate();
  drawTime();
  drawBattery();
}
function drawDate() {
  days = ["Sun", "Mon", "Tues", "Wed", "Thurs", "Fri", "Sat"]
  months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
  var d = new Date();
  var dateString = `${days[d.getDay()]} ${months[d.getMonth()]} ${d.getDate()}`;
  g.setFontTreasurehuntDOYwE_20(1);
  var sm = g.stringMetrics(dateString);
  g.setColor(0,0,0).drawString(dateString, (g.width - sm.width) / 2, g.height - sm.height - 3);
}

function drawTime(){
  var top = 100; pad = 6; bh=48; bw=62; linew=3
  var boxH = {x:pad,y:top,x2:pad+bw,y2:top+bh};
  var boxM = {x:g.width-pad-bw,y:top,x2:g.width-pad,y2:top+bh};
  var innerH = {x:boxH.x+linew, y:boxH.y+linew, x2:boxH.x2-linew, y2:boxH.y2-linew}
  var innerM = {x:boxM.x+linew, y:boxM.y+linew, x2:boxM.x2-linew, y2:boxM.y2-linew}
  g.setColor(manaColors[bgIndex]).fillRect(boxH).fillRect(boxM).clearRect(innerH).clearRect(innerM);

  //Draw the hour and minute
  g.setFontTreasurehuntDOYwE_40_N(1);
  var d = new Date();
  var h = `00${d.getHours()}`.slice(-2);
  var m = `00${d.getMinutes()}`.slice(-2);

  var yOffset = 1; xOffset=2;
  var mH = g.stringMetrics(h);
  var mM = g.stringMetrics(m);
  var xH = (bw - mH.width)/2 + boxH.x+xOffset;
  var yH = (bh - mH.height)/2 +boxH.y+yOffset;
  console.log `Hours: ${h}, x: ${xH}, y:${yH}`;
  var xM = (bw - mM.width)/2 + boxM.x+xOffset;
  var yM = (bh - mM.height)/2 +boxM.y+yOffset;
  g.setColor(0,0,0).drawString (h, xH, yH).drawString(m, xM, yM);
}

function drawBattery(){
  var pad = 6; top=pad; bh=10; bw=40; linew=1;
  var box = {x:g.width-pad-bw,y:top,x2:g.width-pad,y2:top+bh};
  var innerB = {x:box.x+linew, y:box.y+linew, x2:box.x2-linew, y2:box.y2-linew}
  var batteryFill={x:box.x+linew, y:box.y+linew, x2:(box.x-linew)+bw*E.getBattery()/100, y2:box.y2-linew}
  g.setColor(manaColors[bgIndex]).fillRect(box).clearRect(innerB).setColor(0,1,0).fillRect(batteryFill);
}

function drawBluetooth(){

}

function drawBackground() {
  var metrics = g.imageMetrics(backgrounds[bgIndex]);
  g.drawImage(backgrounds[bgIndex], (g.width-metrics.width)/2, 5);
}

function nextBackground() {
  bgIndex++;
  if (bgIndex > backgrounds.length - 1) bgIndex = 0;
  if (bgIndex < 0) bgIndex = backgrounds.length - 1;
}
function prevBackground() {
  bgIndex--;
  if (bgIndex > backgrounds.length - 1) bgIndex = 0;
  if (bgIndex < 0) bgIndex = backgrounds.length - 1;
}

Bangle.on("touch", function (button, xy) {
  if (button == 1) {
    prevBackground();
  } else {
    nextBackground();
  }
  draw();
});

draw();
Bangle.setLocked(false);
Bangle.setLCDPower(true);
Bangle.setUI("clock");

var redrawTimerId = setInterval(function(){
   draw();
}, 60000);
